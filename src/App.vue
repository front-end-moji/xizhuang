<script>
export default {
  onLaunch: function () {
    // console.log("App Launch");
    wx.getStorage({
      key: "isLogin",
    }).then((res) => {
      console.log(
        "%c üêô[ res ]-10",
        "font-size:13px; background:#FFE599; color:#FFB570;",
        res
      );
      if (res.data) {
        this.$store.dispatch("login");
      }
    });
    console.log("App Show");
    uni.addInterceptor("navigateTo", {
      //ÁõëÂê¨Ë∑≥ËΩ¨
      invoke(e) {
        console.log("******** invoke-navigateTo ********", e.url);
      },
    });
    //2
    uni.addInterceptor("redirectTo", {
      //ÁõëÂê¨ÂÖ≥Èó≠Êú¨È°µÈù¢Ë∑≥ËΩ¨
      invoke(e) {
        console.log("******** redirectTo ********", e.url);
      },
    });
    /**
     * 3
     * Êã¶Êà™uni.switchTabÊú¨Ë∫´Ê≤°ÊúâÈóÆÈ¢ò„ÄÇ
     * ‰ΩÜÊòØÂú®ÂæÆ‰ø°Â∞èÁ®ãÂ∫èÁ´ØÁÇπÂáªtabbarÁöÑÂ∫ïÂ±ÇÈÄªËæëÂπ∂‰∏çÊòØËß¶Âèëuni.switchTab„ÄÇ
     * ÊâÄ‰ª•ËØØËÆ§‰∏∫Êã¶Êà™Êó†ÊïàÔºåÊ≠§Á±ªÂú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÂú®tabbarÈ°µÈù¢ÁöÑÈ°µÈù¢ÁîüÂëΩÂë®ÊúüonShow‰∏≠Â§ÑÁêÜ„ÄÇ
     */
    uni.addInterceptor("switchTab", {
      //ÁõëÂê¨tabBarË∑≥ËΩ¨
      invoke(e) {
        console.log("******** switchTab ********", e.url);
      },
    });
    //4
    uni.addInterceptor("navigateBack", {
      //ÁõëÂê¨ËøîÂõû
      invoke(e) {
        console.log("******** navigateBack ********", e.url);
      },
    });
  },
  onShow: function () {
    // wx.getStorage({
    //   key: "isLogin",
    // }).then((res) => {
    //   console.log(
    //     "%c üêô[ res ]-10",
    //     "font-size:13px; background:#FFE599; color:#FFB570;",
    //     res
    //   );
    //   if (res.data) {
    //     this.$store.dispatch("login");
    //   }
    // });
    // console.log("App Show");
  },
  onHide: function () {
    console.log("App Hide");
  },
};
</script>

<style>
page {
  background-color: #f7f7f7;
}
</style>
