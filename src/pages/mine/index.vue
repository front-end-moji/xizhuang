<template>
  <view class="bg"></view>
  <view class="content">
    <view v-if="!$store.state.user" class="loginArea" @click="go2Login">
      <view class="avatar">
        <image class="logo" src="/static/mine1.png"></image>
      </view>
      <view class="loginText">
        ç‚¹å‡»æ­¤å¤„ç™»å½•<uni-icons type="right" size="20"></uni-icons
      ></view>
    </view>
    <view v-if="$store.state.user" class="loginArea" @click="go2Login">
      <view class="avatar">
        <image class="logo" src="/static/mine1.png"></image>
      </view>
      <view class="loginText">{{ $store.state.user.name }} </view>
    </view>
    <view class="listWrap">
      <view class="listItem">
        <view>
          <uni-icons type="map" size="18" color="#444444"></uni-icons>
          ç»‘å®šå­¦æ ¡
        </view>
        <view>
          <uni-icons
            type="location-filled"
            size="16"
            color="#444444"
          ></uni-icons>
          æš‚æœªç™»å½•
          <uni-icons type="right" size="12" color="#aaaaaa"></uni-icons>
        </view>
      </view>
      <view class="listItem">
        <view>
          <uni-icons type="cart" size="18" color="#444444"></uni-icons>
          æˆ‘çš„è®¢å•
        </view>
        <uni-icons type="right" size="12" color="#aaaaaa"></uni-icons>
      </view>
    </view>

    <view class="listWrap">
      <view class="listItem">
        <view>
          <uni-icons type="person" size="18" color="#444444"></uni-icons>
          å…³äºæˆ‘ä»¬
        </view>
        <uni-icons type="right" size="12" color="#aaaaaa"></uni-icons>
      </view>
      <view class="listItem">
        <view>
          <uni-icons type="phone" size="18" color="#444444"></uni-icons>
          è”ç³»å®¢æœ
        </view>
        <uni-icons type="right" size="12" color="#aaaaaa"></uni-icons>
      </view>
    </view>
    <view class="logout"> é€€å‡ºç™»å½• </view>
  </view>
</template>

<script>
import { wechatLogin } from "@/api/mine";
export default {
  data() {
    return {
      title: "Hello1123",
    };
  },
  onLoad() {
    console.log(
      "%c ğŸ™[  ]-67",
      "font-size:13px; background:#FFE599; color:#FFB570;",
      this.$store.state
    );
    // wx.login().then((res) => {
    //   wechatLogin(res.code).then((res) => {
    //     console.log(res);
    //   });
    //   console.log(res);
    // });
  },
  methods: {
    go2Login() {
      // è·³è½¬åˆ°ç™»å½•é¡µé¢
      wx.navigateTo({
        url: "/pages/login/index",
      });
    },
  },
};
</script>

<style>
.logout {
  margin-top: 30rpx;
  color: #888888;
  text-decoration: underline;
  text-align: center;
}
.bg {
  height: 35vh;
  width: 100vw;
  position: fixed;
  top: 0;
  left: 0;
  background: linear-gradient(to bottom, #ffcd3633, #f7f7f7);
  z-index: -1;
}

.listWrap {
  background: #fff;
  border-radius: 8rpx;
  padding: 4rpx 25rpx;
  margin-top: 30rpx;
}

.listItem {
  height: 100rpx;
  width: 100%;
  border-bottom: 1rpx solid #eee;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.listItem:last-child {
  border-bottom: none;
}

.content {
  margin-top: 175rpx;
  padding: 30rpx;
}

.loginArea {
  display: flex;
  align-items: center;
  margin-bottom: 50rpx;
}

.avatar {
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  border: 1px solid #ffcd36;
  background: #ffcd3644;
}

.loginText {
  margin-left: 20px;
}

.logo {
  width: 60%;
  height: 60%;
}
</style>
